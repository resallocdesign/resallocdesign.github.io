{"version":3,"sources":["hooks/usePageTitle.tsx","services/CompFadeStudy.ts","pages/CompFade/CompFadeStart.tsx","pages/CompFade/CompFadeConsent.tsx","pages/CompFade/CompFadeThanks.tsx","pages/CompFade/CompFadeInstructions.tsx","pages/CompFade/Exp3/CompFadeTask3.tsx","pages/CompFade/ExplainQuestions.tsx","pages/CompFade/CompFadeAttentionQ.tsx","pages/CompFade/BadScreenWidth.tsx","pages/CompFade/Exp3/StimHeader3.tsx","pages/CompFade/Exp3/ManyVisual.tsx","pages/CompFade/Exp3/ManyCauseVisual.tsx","pages/CompFade/Exp3/CompFadeStudy3.tsx","pages/CompFade/Exp3/TextVisual3.tsx","pages/CompFade/Exp3/CompFadeSelect3.tsx"],"names":["usePageTitle","title","useEffect","prevTitle","document","a","results","prolificInfo","condition","body","JSON","stringify","postPromise","fetch","method","headers","toast","promise","loading","success","error","Error","message","CompFadeStudyService","create","exp1_2_cond","name","uri","exp3_cond","ExpBlock","exp","onClick","history","isSelected","useHistory","useState","className","desc","src","process","pic","alt","measure","map","c","push","CompFadeStart","nextState","expr","setExpr","url","idx","CompFadeConsent","props","CompFadeThanks","NextButton","CompFadeInstructions","CompFadeTask3","ExplainQuestions","setResults","explainText","setExplainText","question2Choice","setQuestion2Choice","question2","question","choices","placeholder","rows","onChange","e","currentTarget","value","index","r","q1","q2","CompFadeAttentionQ","question3Choice","setQuestion3Choice","question3","q3","q4","BadScreenWidth","StimHeader3","program","population","donation","textCond","Math","round","ManyVisual","slider","setSlider","programLabel","programStimuli","programAllocation","MAX_SLIDER_VALUE","MAX_PEOPLE","B","MIN_PEOPLE","A","floor","peopleArr","people","coinsPerPerson","style","height","width","marginTop","maxWidth","maxHeight","coinFill","coinRadius","maxCoinFit","wholeCoins","partialCoin","coinX","i","coinY","Array","from","keys","_","DivPerson","transform","viewBox","xmlns","cx","cy","fill","d","d3","innerRadius","outerRadius","startAngle","endAngle","PI","toString","optionContainerStyles","id","type","min","max","parseInt","clipPath","rx","ry","x","y","ManyCauseVisual","CFStudyState","programARef","useRef","programBRef","arr","uuidv4","coinArr","coins","coinInset","ref","TextVisual3","CompFadeSelect3","PROGRAM_LABEL","PRGORAM_STIMULI","window","scrollTo","vis","Legend","text","CompFadeStudy3","Instructions","studyState","setStudyState","programBAlloc","setCondition","isWide","setIsWide","taskTimer","setTaskTimer","addEventListener","innerWidth","URLSearchParams","location","search","get","condArr","random","length","params","pid","sessionId","studyId","compFadeStudyState","state","Start","AskConsent","consentFunc","Task","noConsentFunc","NoConsent","Selection","Date","getTime","undefined","Questions","timer","AttentionCheck","Complete","cycleStudyStates"],"mappings":"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","file":"static/js/6.c6ae1462.chunk.js","sourcesContent":["import { useEffect } from \"react\";\n\nconst usePageTitle = (title: string) =>\n  useEffect(() => {\n    const prevTitle = document.title;\n    document.title = title;\n    return () => {\n      document.title = prevTitle;\n    };\n  }, [title]);\n\nexport default usePageTitle;\n","import toast from \"react-hot-toast\";\n\ninterface IPostCompFadePost {\n  prolificInfo: {\n    pid: string;\n    sessionId: string;\n    studyId: string;\n  };\n  results: object;\n  condition: object;\n}\n\nasync function create({\n  results,\n  prolificInfo,\n  condition,\n}: IPostCompFadePost): Promise<any> {\n  try {\n    const body = JSON.stringify({ results, prolificInfo, condition });\n    const postPromise = fetch(\"/api/v1/comp-fade-study\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body,\n    });\n    toast.promise(postPromise, {\n      loading: \"Please wait before continuing...\",\n      success: \"You may proceed now.\",\n      error: \"Failed to configure data. Please email coordinator.\",\n    });\n  } catch (err) {\n    throw new Error(err.message);\n  }\n}\n\nexport const CompFadeStudyService = {\n  create,\n};\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst exp1_2_cond = [\n{ name: \"(text+vis, individual)\", uri: \"vp\" },\n{ name: \"(text+vis, group)\", \"uri\": \"vc\" },\n{ name: \"(text, individual)\", \"uri\": \"np\" },\n{ name: \"(text, group)\", \"uri\": \"nc\" }]\nconst exp3_cond = [\n  { name: \"(textNone, visGroup)\", uri: \"nc\"}, \n  { name: \"(textIndividual, visGroup)\", uri: \"np\"}, \n  { name: \"(textGroup, visNone)\", uri: \"cn\"}, \n  { name: \"(textGroup, visGroup)\", uri: \"cp\"}, \n  { name: \"(textGroup, visIndividual)\", uri: \"cc\"}, \n  { name: \"(textIndividual, visNone)\", uri: \"pn\"}, \n  { name: \"(textIndividual, visGroup)\", uri: \"pc\"}, \n  { name: \"(textIndividual, visIndividual)\", uri: \"pp\"}]\n\nfunction CompFadeStart({ nextState }: { nextState: Function }) {\n\n  const [expr, setExpr] = useState(1)\n\n  const experiments: IExp[] = [\n    {\n      \"title\": \"Experiment 1\", \"desc\": \"Initial Investigation of Resource Allocation\",\n      \"pic\": \"/exp1-display.png\",\n      \"measure\": \"Large Progam Allocation\",\n      url: \"/exp1\"\n    },\n    {\n      \"title\": \"Experiment 2\", \"desc\": \"A Closer Look at Fair vs. Unfair Allocations\",\n      \"pic\": \"/exp2-display.png\",\n      \"measure\": \"Proportion of Fair Allocations\",\n      url: \"/exp2\"\n    },\n    {\n      \"title\": \"Experiment 3\", \"desc\": \"A Rigorous Look at presentation format and framing\",\n      \"pic\": \"/exp3-display.png\",\n      \"measure\": \"Unfairness\",\n      url: \"/exp3\"\n    }\n  ]\n\n  return (\n    <div className=\"\">\n      <div className=\"px-2 pt-4 mx-auto\">\n        <h2 className=\"mt-4 mb-2 text-2xl font-bold text-center text-gray-800\">\n          Designing Resource Allocation Tools to Promote Fair Allocation\n        </h2>\n        <h3 className=\"mb-8 text-xl text-center text-gray-800\">\n          Does Visualization and Information Framing Matter?\n        </h3>\n        <div className=\"mb-2 ml-8 text-xl \">\n          Click on one of the conditions below to start an experiment!\n        </div>\n        <div className=\"flex flex-col w-full lg:flex-row \">\n          {experiments.map((exp, idx) => {\n            return <ExpBlock onClick={() => { setExpr(idx + 1); }} isSelected={expr === idx + 1} exp={exp} />\n          })}\n\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface IExp {\n  title: string\n  desc: string\n  pic: string\n  measure: string\n  url: string\n}\n\nconst ExpBlock: React.FC<{ exp: IExp; onClick: () => void; isSelected: boolean }> = ({ exp, onClick, isSelected }) => {\n  const history = useHistory();\n  const [cond, setCond] = useState(\"\")\n\n  return <div onClick={onClick} // onClick={() => {history.push(exp.url);}} \n    className=\"flex w-full py-1 mx-2 bg-gray-100 rounded-lg md:flex-col hover:bg-gray-200\">\n    <h2 className=\"w-full py-1 ml-4 text-xl font-bold tracking-wider uppercase\"> {exp.title}</h2>\n    <h3 className=\"w-full pb-4 ml-4 text-md\" > {exp.desc} </h3>\n    <div className=\"w-full text-gray-800 bg-white rounded-lg hover:bg-gray-100 hover:text-orange-500\">\n      <div className={\"flex justify-center w-full h-64 \" + (exp.title === \"Experiment 3\" ? \"bg-gray-800\" : \"bg-gray-300\")} onClick={() => { }}>\n        <img\n          className=\"absolute h-64 py-2\"\n          src={process.env.PUBLIC_URL + exp.pic}\n          alt={\"props.studyImgAlt\"}\n        />\n\n      </div>\n\n    </div>\n    <h4 className=\"w-full px-8 py-4 font-semibold rounded-lg \">\n      Measure: <span>{exp.measure}</span>\n    </h4>\n    <div className=\"mx-4 my-2\">\n      <h3 className=\"text-lg font-bold\"> Conditions:</h3>\n      <div className=\"flex flex-wrap ml-6 space-x-4\">\n        {exp.title === \"Experiment 3\" && exp3_cond.map((c) => {\n          return <button  className=\"px-2 py-1 mt-2 bg-gray-300 rounded-lg cursor-pointer hover:bg-yellow-400\" \n          onClick={() => { history.push(\"/exp3?cond=\" + c.uri); }}> {c.name} </button>\n        })}\n        {exp.title !== \"Experiment 3\" && exp1_2_cond.map((c) => {\n          return <button  className=\"px-2 py-1 mt-2 bg-gray-300 rounded-lg cursor-pointer hover:bg-yellow-400\" \n          onClick={() => { \n            if (exp.title === \"Experiment 1\") history.push(\"/exp1?cond=\" + c.uri);\n            if (exp.title === \"Experiment 2\") history.push(\"/exp2?cond=\" + c.uri);\n          }}> \n            {c.name} \n            \n          </button>\n        })}\n      </div>\n\n    </div>\n  </div>\n}\n\nexport default CompFadeStart;\n","\n\ninterface ICompFadeConsentProps {\n  consentFunc: () => void;\n  noConsentFunc: () => void;\n}\n\nfunction CompFadeConsent(props: ICompFadeConsentProps) {\n\n\n  return (\n    <div className=\"md:px-4\">\n      <h1>  </h1>\n    </div>\n  );\n}\n\nexport default CompFadeConsent;\n","function CompFadeThanks() {\n  return (\n    <div className=\"min-h-screen bg-blue-100 min-w-screen\">\n      <div className=\"w-full text-4xl tracking-wide text-center align-middle \">\n        <h1 className=\"pt-32\">Thank You For Participating! </h1>\n\n        <h2 className=\"w-3/4 pt-12 mx-auto text-2xl md:px-16\">\n          If there is a loading message at the top of your screen, please wait\n          for it to complete and then you may exit the window. <br /> <br />\n        </h2>\n      </div>\n    </div>\n  );\n}\n\nexport default CompFadeThanks;\n","function CompFadeInstructions({ nextState }: { nextState: () => void }) {\n  return (\n    <div>\n      <div className=\"container px-8 pt-4 mx-auto\">\n        <h2 className=\"text-2xl font-bold text-center text-gray-800\">\n          Instructions\n        </h2>\n\n        <p className=\"mt-16 mb-12 text-gray-800 text-md\">\n          For three decades, a charitable organization known as Mercy Corps has\n          helped support children in need around the globe. <br /> <br /> The\n          organization runs programs in dozens of countries to help children get\n          access to food, shelter, and education. In all of the work they do,\n          cost effectiveness is highly important to the organization, as they\n          want donors’ money to go to the ones who need it the most--the\n          children. <br /> <br /> Their financial report indicates that 87% of\n          their money went directly to programs that support people in need.\n          (The remaining 13% covers administrative costs.) <br /> <br />\n          Please take this into consideration and read your task for this study\n          on the next page. Afterwards, you will be prompted to use a slider and\n          the context surrounding it to make an informed decision. <br /> <br />\n          Whenever you are ready, you may click next to proceed.\n        </p>\n        <NextButton nextState={nextState} />\n      </div>\n    </div>\n  );\n}\n\nfunction NextButton({ nextState }: { nextState: () => void }) {\n  return (\n    <div className=\"mb-16 \">\n      <div className=\"flex justify-around\">\n        <button\n          onClick={nextState}\n          className=\"w-full px-8 py-4 font-bold tracking-wider uppercase bg-indigo-100 rounded-lg shadow-lg hover:bg-indigo-200 \"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default CompFadeInstructions;\n","function CompFadeTask3({ nextState }: { nextState: () => void }) {\n  return (\n    <div>\n      <div className=\"container px-8 pt-4 mx-auto\">\n        <h2 className=\"text-2xl font-bold text-center text-gray-800\">\n          Instructions\n        </h2>\n        <div className=\"flex flex-col mt-16 mb-12 space-y-2 text-gray-800 text-md\">\n          <p>\n            Mercy Corps is an organization which runs multiple aid programs to\n            benefit the impoverished population of different areas in the world.\n            Your task is to help the organization decide how to distribute money\n            between two of their programs.\n          </p>\n\n          <h3 className=\"pt-4 text-lg font-bold\">About Mercy Corps</h3>\n\n          <p>\n            For three decades, the Mercy Corps charitable organization has\n            helped support children in need around the globe. The organization\n            runs programs in dozens of countries to help children get access to\n            food, shelter, and educational materials. In all of the work they\n            do, cost effectiveness is highly important to the organization, as\n            they want donors’ money to go to the ones who need it the most--the\n            children.\n          </p>\n\n          <h3 className=\"pt-4 text-lg font-bold\">About the Programs</h3>\n\n          <p>\n            Today you will help Mercy Corps’ distribute donators’ money between\n            the two following programs.\n          </p>\n\n          <p className=\"p-2 mx-6 bg-gray-100 rounded-lg\">\n            <i>Program Alpha</i> is a new program to help prevent the death of\n            children who are unable to live out their lives due to unstable\n            conditions. A report says that donating to this program will mean\n            that the money will go toward food, clothes, and education to help 3\n            children who would greatly benefit from the aid.\n          </p>\n\n          <p className=\"p-2 mx-6 bg-gray-100 rounded-lg\">\n            <i>Program Zefa</i> is another newly lauched program to help prevent\n            the death of children who are unable to live out their lives due to\n            unstable conditions in a different community from Program Alpha.\n            Another report projects that donating to this program will mean that\n            the money will go toward food, clothes, and education to help 120\n            children, who will greatly benefit from the aid.\n          </p>\n\n          <h3 className=\"pt-4 text-lg font-bold\">Your Task</h3>\n          <p>\n            Please use the scale on the next page to select how you\n            would allocate a given set of resources.\n          </p>\n\n          {/* <p>\n            You have a total of $24 600 (US Dollars) to allocate between the two\n            programs, please use the scale on the next page to select how you\n            would allocate these resources.\n          </p> */}\n\n          <h3 className=\"pt-4 text-lg font-bold\">Please note that:</h3>\n\n          <ul className=\"px-12 list-disc\">\n            <li>\n              All the money you donate to a program will be split evenly between\n              the children in the program\n            </li>\n            <li>\n              Children from both programs are in a very similar situation and\n              need money equally. They will not benefit from any other donation\n              than yours.\n            </li>\n          </ul>\n          <p className=\"font-bold\">\n            Whenever you are ready, you may click next to proceed.\n          </p>\n        </div>\n\n        <NextButton nextState={nextState} />\n      </div>\n    </div>\n  );\n}\n\nfunction NextButton({ nextState }: { nextState: () => void }) {\n  return (\n    <div className=\"mb-16\">\n      <div className=\"flex justify-around\">\n        <button\n          onClick={nextState}\n          className=\"w-full px-8 py-4 font-bold tracking-wider uppercase bg-indigo-100 rounded-lg shadow-lg hover:bg-indigo-200 \"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default CompFadeTask3;\n","import React, { Dispatch, SetStateAction, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\ninterface ICompFadeStudyResults {\n  programBAlloc: number;\n  q1: string;\n  q2: string;\n  q3: string;\n}\n\ninterface IExplainQuestionsProps {\n  nextState: () => void;\n  setResults: Dispatch<SetStateAction<ICompFadeStudyResults>>;\n}\n\nfunction ExplainQuestions({ nextState, setResults }: IExplainQuestionsProps) {\n  const [explainText, setExplainText] = useState(\"\");\n  const [question2Choice, setQuestion2Choice] = useState(\"\");\n\n  const question2 = {\n    question:\n      \"How confident are you that the amount you have allocated to the two programs is a suitable amount?\",\n    choices: [\n      \"Not at all Confident\",\n      \"Slightly Confident\",\n      \"Somewhat Confident\",\n      \"Moderately Confident\",\n      \"Very Confident\",\n    ],\n  };\n\n  const onExplainTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setExplainText(e.currentTarget.value);\n  };\n\n  const onQ2Change = (val: string) => setQuestion2Choice(val);\n\n  const submitResult = () => {\n    if (!question2Choice) {\n      toast.error(\"Please respond to question 2.\");\n      return;\n    } else if (explainText === \"\") {\n      toast.error(\"Please respond to question 1.\");\n      return;\n    } else {\n      setResults((r) => ({ ...r, q1: explainText, q2: question2Choice }));\n      nextState();\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mt-6 text-2xl font-bold text-center text-gray-800\">\n        Post-Study Questions\n      </h2>\n      <div className=\"w-3/4 mx-auto md:w-1/2 \">\n        <div>\n          <div className=\"mt-6\">\n            <label className=\"flex mb-6 text-lg \">\n              1. Please briefly explain your choice.\n            </label>\n            <textarea\n              placeholder=\"Write your answer here...\"\n              className=\"w-full px-4 py-2 text-sm bg-gray-100 rounded-lg hover:shadow-lg hover:bg-gray-200\"\n              rows={6}\n              onChange={onExplainTextChange}\n              value={explainText}\n            />\n          </div>\n          <div className=\"w-full h-1 mt-4 bg-blue-200 rounded-lg\"> </div>\n        </div>\n        <div>\n          <div className=\"py-4 mt-4 text-gray-800 rounded-md text-md \">\n            <p className=\"flex mb-6 text-lg \">\n              {\" \"}\n              2. {question2.question}{\" \"}\n            </p>\n            <div className=\"flex flex-col justify-around space-y-2 text-sm rounded-lg\">\n              {question2.choices.map((value, index: number) => {\n                return (\n                  <button\n                    key={index}\n                    onClick={() => onQ2Change(value)}\n                    className={`bg-purple-100 hover:shadow-lg hover:bg-purple-200 rounded-lg  tracking-wider py-2 ${\n                      question2Choice === value\n                        ? \"bg-purple-300 hover:bg-purple-300\"\n                        : \"\"\n                    }`}\n                  >\n                    {value}\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div onClick={submitResult} className=\"flex justify-around my-6\">\n        <button className=\"w-3/4 px-8 py-4 my-6 font-bold tracking-wider uppercase bg-indigo-100 rounded-lg shadow-lg hover:bg-indigo-200 \">\n          Next\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default ExplainQuestions;\n","import { Dispatch, SetStateAction, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\ninterface ICompFadeStudyResults {\n  programBAlloc: number;\n  q1: string;\n  q2: string;\n  q3: string;\n}\n\ninterface IExplainQuestionsProps {\n  nextState: () => void;\n  setResults: Dispatch<SetStateAction<ICompFadeStudyResults>>;\n}\n\nfunction CompFadeAttentionQ({ nextState, setResults }: IExplainQuestionsProps) {\n  const [question3Choice, setQuestion3Choice] = useState(\"\");\n  const question3 = {\n    question: \"What was the purpose of the charity you read about?\",\n    choices: [\n      \"Funding cancer research, advocacy and patient and family services\",\n      \"Helping address environmental damage\",\n      \"Helping children get access to shelter, food and education\",\n      \"Reducing the spread of malaria in Sub-Saharan Africa\",\n      \"Addressing modern day civil rights violations\",\n      \"Helping address potential risks from advanced artificial intelligence\",\n    ],\n  };\n\n  const [explainText, setExplainText] = useState(\"\");\n  const onQ2Change = (val: string) => setQuestion3Choice(val);\n  const onExplainTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setExplainText(e.currentTarget.value);\n  };\n\n  const submitResult = () => {\n    if (!question3Choice) {\n      toast.error(\"Please respond to question 3.\");\n      return;\n    } else {\n      setResults((r) => ({ ...r, q3: question3Choice, q4: explainText }));\n      nextState();\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"mt-6 text-2xl font-bold text-center text-gray-800\">\n        Post-Study Questions\n      </h2>\n      <div className=\"w-3/4 mx-auto md:w-1/2 \">\n        <div>\n          <div className=\"py-4 mt-4 text-gray-800 rounded-md text-md \">\n            <p className=\"flex mb-6 text-lg\"> 3. {question3.question} </p>\n            <div className=\"flex flex-col justify-around space-y-2 text-sm rounded-lg\">\n              {question3.choices.map((value, index: number) => {\n                return (\n                  <button\n                    key={index}\n                    onClick={() => onQ2Change(value)}\n                    className={`bg-purple-100 hover:shadow-lg hover:bg-purple-200 rounded-lg  tracking-wider py-2 ${\n                      question3Choice === value\n                        ? \"bg-purple-300 hover:bg-purple-300\"\n                        : \"\"\n                    }`}\n                  >\n                    {value}\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n        {/* <div>\n          <div className=\"mt-6\">\n            <label className=\"flex mb-6 text-lg \">\n              4. Please provide any feedback that may improve the study.\n            </label>\n            <textarea\n              placeholder=\"Write your answer here...\"\n              className=\"w-full px-4 py-2 text-sm bg-gray-100 rounded-lg hover:shadow-lg hover:bg-gray-200\"\n              rows={6}\n              onChange={onExplainTextChange}\n              value={explainText}\n            />\n          </div>\n          <div className=\"w-full h-1 mt-4 bg-blue-200 rounded-lg\"> </div>\n        </div> */}\n      </div>\n      <div onClick={submitResult} className=\"flex justify-around my-6\">\n        <button className=\"w-3/4 px-8 py-4 my-6 font-bold tracking-wider uppercase bg-indigo-100 rounded-lg shadow-lg hover:bg-indigo-200 \">\n          Finish Study\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default CompFadeAttentionQ;\n","import React from \"react\";\n\nfunction BadScreenWidth() {\n  return (\n    <div className=\"min-h-screen bg-gray-100 min-w-screen\">\n      <div className=\"px-4 mx-auto text-2xl tracking-wide text-center align-middle \">\n        <h1 className=\"pt-32\">Please adjust to a wider screen in order to participate in this study. </h1>\n      </div>\n    </div>\n  );\n}\n\nexport default BadScreenWidth;\n","\ninterface IStimHeaderProps {\n\tprogram: string;\n\tpopulation: number;\n\tdonation: number;\n\ttextCond: \"none\" | \"per-person\" | \"per-cause\"\n}\n\nexport default function StimHeader3(props: IStimHeaderProps) {\n\tconst { program, population, donation, textCond } = props;\n\n\treturn (\n\t\t<h5 className=\"w-full pb-2 text-center text-white bg-gray-800 rounded-lg \">\n\t\t\t{\" \"}\n\t\t\t<span className=\"text-xl underline\">{program}</span> <br />{\" \"}\n\t\t\t<div className=\"flex justify-center text-md\">\n\t\t\t\t<div className=\"mt-2 space-y-2\">\n\t\t\t\t\t{textCond === \"per-person\" && (\n\t\t\t\t\t\t<span className=\"text-lg font-bold text-indigo-300\">\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t<span className=\"inline-block w-24 my-1 bg-gray-700 rounded-lg\">${Math.round((donation / population) * 10) / 10}</span> per person\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{textCond === \"per-cause\" && <>\n\t\t\t\t\t\tNumber of Beneficiaries: <span className=\"px-2 py-1 mb-2 font-bold bg-gray-700 rounded-lg\"> {population} people</span>\n\t\t\t\t\t\t<br /> Current Donation: <span className=\"inline-block w-20 py-1 font-bold bg-gray-700 rounded-lg\">${donation}</span> </>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</h5>\n\t);\n}","import { useEffect } from \"react\";\nimport { ICompFadeStudyCondition3 } from \"./CompFadeStudy3\";\nimport StimHeader3 from \"./StimHeader3\";\nimport * as d3 from \"d3-shape\";\n\ninterface IManyVisualProps {\n  slider: number;\n  setSlider: React.Dispatch<React.SetStateAction<number>>;\n  programLabel: { A: string; B: string };\n  programStimuli: { A: number; B: number };\n  programAllocation: number;\n  textCond: ICompFadeStudyCondition3[\"text\"]\n}\n\nexport function ManyVisual(props: IManyVisualProps) {\n  const { slider, setSlider, programLabel, programStimuli, programAllocation, textCond } =\n    props;\n\n  const MAX_SLIDER_VALUE = programAllocation;\n  const MAX_PEOPLE = programStimuli.B;\n  const MIN_PEOPLE = programStimuli.A;\n\n  // set slider to the middle\n  useEffect(() => {\n    setSlider(Math.floor(MAX_SLIDER_VALUE / 2));\n  }, [MAX_SLIDER_VALUE, setSlider]);\n\n  const onSliderChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSlider(parseInt(e.currentTarget.value));\n  };\n\n  const peopleArr = (people: number, coinsPerPerson: number) => {\n    const style: React.CSSProperties =\n      people > 10\n        ? {}\n        : {\n          height: 200,\n          width: 100,\n          marginTop: -50\n        };\n\n    const maxWidth = people > 10 ? 100 : 400;\n    const maxHeight = people > 10 ? 100 : 200;\n    const partialCoinFill = \"rgb(234 179 8)\";\n    const coinFill = \"#eeb501\";\n    const coinRadius = 15;\n    const maxCoinFit = Math.floor(maxWidth / (2 * coinRadius));\n\n    const wholeCoins = Math.floor(coinsPerPerson / people);\n\n    // find the fraction, i.e 0.25, 0.5, 0.75, 1\n    const partialCoin = (coinsPerPerson / people - wholeCoins);\n\n    const coinX = (i: number) =>\n      maxWidth - (i % maxCoinFit) * (coinRadius * 2) - coinRadius;\n\n    const coinY = (i: number) =>\n      maxHeight - coinRadius - Math.floor(i / maxCoinFit) * 2 * coinRadius;\n\n    let coinInset = \"inset(0% 0% 0% 0%)\";\n    if (partialCoin <= 25) {\n      coinInset = \"inset(40% 0% 0% 40%)\";\n    } else if (partialCoin <= 50) {\n      coinInset = \"inset(40% 0% 0% 0%)\";\n    } else if (partialCoin <= 75) {\n      coinInset =\n        \"polygon(50.00% 3.00%,51% 45%,100% 44%,100% 100%,0% 100%,0% 3%)\";\n    } else if (partialCoin <= 33) {\n      coinInset = \"polygon(55% 50%,100% 100%,0% 100%,0% 50%)\";\n    } else if (partialCoin <= 66) {\n      coinInset = \"polygon(100% 0%,40% 49%,100% 100%,0% 100%,0% 0%)\";\n    }\n\n    const arr = Array.from(Array(people).keys()).map((_, idx) => {\n      return (\n        <>\n          {idx % 20 === 0 ? <br /> : null}\n          <div className=\"inline-block \">\n            <div className=\"flex flex-col\">\n              <div className=\"mt-1\">\n                <DivPerson />\n              </div>\n              <div\n                style={{ transform: \"rotate(270deg)\", ...style }}\n                className=\"flex flex-wrap \"\n              >\n                <svg\n                  viewBox={`0 0 ${maxWidth} ${maxHeight}`}\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  {Array.from(Array(wholeCoins + 1).keys()).map((i) => {\n                    if (i < wholeCoins) {\n                      return (\n                        <circle\n                          cx={coinX(i)}\n                          cy={coinY(i)}\n                          r={coinRadius}\n                          fill={coinFill}\n                        />\n                      );\n                    } else {\n                      return (\n                        <path\n                          transform={`translate(${coinX(i)},${coinY(i)})`}\n                          fill={coinFill}\n                          d={d3.arc()({\n                            innerRadius: 0,\n                            outerRadius: coinRadius,\n                            startAngle: 0,\n                            endAngle: Math.PI * 2 * partialCoin,\n                          })?.toString()\n                          }\n                          // stroke=\"#000000\" stroke-width=\"1\" \n                        />\n                        // <circle\n                        //   cx={coinX(i)}\n                        //   cy={coinY(i)}\n                        //   r={coinRadius}\n                        //   fill={partialCoinFill}\n                        //   className={`bg-blue-200 ${partialCoin === 0 ? \"hidden\" : \"\"}`}\n                        //   clipPath={coinInset}\n                        // />\n                      );\n                    }\n                  })}\n                </svg>\n              </div>\n            </div>\n          </div>\n        </>\n      );\n    });\n\n    return arr;\n  };\n\n  //const smallPeopleArr = peopleArr(MIN_PEOPLE, slider / MIN_PEOPLE );\n  // const largePeopleArr = peopleArr(MAX_PEOPLE, 10);\n  // console.log(slider, slider / MIN_PEOPLE);\n\n  const optionContainerStyles = {\n    transform: \"rotate(180deg)\",\n  };\n\n  return (\n    <>\n      <div className=\"flex justify-center space-x-4\">\n        <div className=\"\" style={{ width: 500 }}>\n          <StimHeader3\n            program={programLabel.A}\n            population={MIN_PEOPLE}\n            donation={(MAX_SLIDER_VALUE - slider) * 100}\n            textCond={textCond}\n          />\n\n          <div\n            style={optionContainerStyles}\n            className=\"w-full bg-black rounded-lg h-96\"\n          >\n            <div>{peopleArr(MIN_PEOPLE, (MAX_SLIDER_VALUE - slider))}</div>\n          </div>\n        </div>\n\n        <div className=\"\" style={{ width: 500 }}>\n          <StimHeader3\n            program={programLabel.B}\n            population={MAX_PEOPLE}\n            donation={slider * 100}\n            textCond={textCond}\n          />\n          <div\n            style={optionContainerStyles}\n            className=\"w-full bg-black rounded-lg h-96\"\n          >\n            <div>{peopleArr(MAX_PEOPLE, slider)}</div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"w-full mr-32\">\n        <input\n          id=\"slider\"\n          className=\"w-1/2 rounded-md cursor-pointer \"\n          type=\"range\"\n          min=\"0\"\n          max={MAX_SLIDER_VALUE}\n          value={slider}\n          onChange={onSliderChange}\n        />\n      </div>\n    </>\n  );\n}\n\nexport function DivPerson() {\n  const style = { transform: \"rotate(180deg)\"  };\n\n  return (\n    <svg style={style} viewBox={`0 0 ${100} ${100}`}\n      xmlns=\"http://www.w3.org/2000/svg\" className=\"inline-block h-6 \">\n      <g  fill=\"white\">\n        <circle\n          cx={45}\n          cy={27}\n          r={9}\n        />\n        <ellipse\n          clipPath=\"polygon(50% 33%, 65% 0, 100% 0, 100% 99%, 0 100%, 0 0, 35% 0)\"\n          cx={45}\n          cy={50}\n          rx={17}\n          ry={13}\n          \n        />\n        <rect\n          width={23}\n          height={35}\n          x={33.5}\n          y={60}\n          clipPath=\"polygon(0 0, 100% 0, 75% 100%, 25% 100%)\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { ICompFadeStudyCondition3 } from \"./CompFadeStudy3\";\nimport StimHeader3 from \"./StimHeader3\";\n\ninterface IIndVisualProps {\n  slider: number;\n  setSlider: React.Dispatch<React.SetStateAction<number>>;\n  programLabel: { A: string; B: string };\n  programStimuli: { A: number; B: number };\n  programAllocation: number;\n  textCond: ICompFadeStudyCondition3[\"text\"]\n}\n\nexport function ManyCauseVisual(props: IIndVisualProps) {\n  const { slider, setSlider, programLabel, programStimuli, programAllocation, textCond } =\n    props;\n\n  const programARef = useRef<HTMLDivElement>(null);\n  const programBRef = useRef<HTMLDivElement>(null);\n\n  const MAX_SLIDER_VALUE =  programAllocation;\n  const MAX_PEOPLE = programStimuli.B;\n  const MIN_PEOPLE = programStimuli.A;\n\n  const onSliderChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSlider(parseInt(e.currentTarget.value));\n  };\n\n  // set slider to the middle\n  useEffect(() => {\n    setSlider(Math.floor(MAX_SLIDER_VALUE / 2));\n  }, [MAX_SLIDER_VALUE, setSlider]);\n\n\n  const peopleArr = (people: number) => {\n    let arr = [];\n    for (let i = 0; i < people; i++) {\n      if (i % 10 === 0) {\n        arr.push(<br key={uuidv4()} />);\n      }\n      arr.push(<DivPerson key={uuidv4()} />);\n    }\n    return arr;\n  };\n\n  const coinArr = (coins: number) => {\n\n    const maxWidth = 100;\n    const maxHeight = 100;\n    const partialCoinFill = \"rgb(234 179 8)\";\n    const coinFill = \"#eeb501\";\n    const coinRadius = 2;\n    const maxCoinFit = Math.floor(maxWidth / (2 * coinRadius));\n\n    const wholeCoins = coins\n    const partialCoin = 0;\n\n    const coinX = (i: number) =>\n      maxWidth - (i % maxCoinFit) * (coinRadius * 2) - coinRadius;\n\n    const coinY = (i: number) =>\n      maxHeight - coinRadius - Math.floor(i / maxCoinFit) * 2 * coinRadius;\n\n    let coinInset = \"inset(0% 0% 0% 0%)\";\n    if (partialCoin <= 25) {\n      coinInset = \"inset(40% 0% 0% 40%)\";\n    } else if (partialCoin <= 50) {\n      coinInset = \"inset(40% 0% 0% 0%)\";\n    } else if (partialCoin <= 75) {\n      coinInset =\n        \"polygon(50.00% 3.00%,51% 45%,100% 44%,100% 100%,0% 100%,0% 3%)\";\n    } else if (partialCoin <= 33) {\n      coinInset = \"polygon(55% 50%,100% 100%,0% 100%,0% 50%)\";\n    } else if (partialCoin <= 66) {\n      coinInset = \"polygon(100% 0%,40% 49%,100% 100%,0% 100%,0% 0%)\";\n    }\n\n    return (\n      <div className=\"flex flex-col justify-end w-full h-full px-4 pb-4\">\n        <svg\n          viewBox={`0 0 ${maxWidth} ${maxHeight}`}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          {Array.from(Array(wholeCoins + 1).keys()).map((i) => {\n            if (i < wholeCoins) {\n              return (\n                <circle\n                  cx={coinX(i)}\n                  cy={coinY(i)}\n                  r={coinRadius}\n                  fill={coinFill}\n                />\n              );\n            } else {\n              return (\n                <circle\n                  cx={coinX(i)}\n                  cy={coinY(i)}\n                  r={coinRadius}\n                  fill={partialCoinFill}\n                  className={`bg-blue-200 ${partialCoin === 0 ? \"hidden\" : \"\"}`}\n                  clipPath={coinInset}\n                />\n              );\n            }\n          })}\n        </svg>\n      </div>\n    )\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-col justify-center space-y-4 md:space-x-4 md:flex-row md:space-y-0\">\n        <div className=\"\" style={{ width: 500 }}>\n          <StimHeader3\n            program={programLabel.A}\n            population={MIN_PEOPLE}\n            donation={(MAX_SLIDER_VALUE - slider) * 100}\n            textCond={textCond}\n          />\n          <div className=\"flex w-full bg-black rounded-lg h-96\">\n            <div ref={programARef} className=\"w-1/2 h-full pt-6\">\n              {coinArr((MAX_SLIDER_VALUE - slider))}\n            </div>\n            <div className=\"flex flex-col justify-end w-1/2 pb-4\">\n              <div className=\"\" >{peopleArr(MIN_PEOPLE)}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"\" style={{ width: 500 }}>\n          <StimHeader3\n            program={programLabel.B}\n            population={MAX_PEOPLE}\n            donation={slider * 100}\n            textCond={textCond}\n          />\n          <div\n            className=\"flex w-full bg-black rounded-lg h-96\">\n            <div ref={programBRef} className=\"w-1/2 h-full pt-6 \">\n              {coinArr(slider)}\n            </div>\n            <div className=\"flex flex-col justify-end w-1/2 h-full pb-4\"><div>{peopleArr(MAX_PEOPLE)}</div></div>\n\n          </div>\n        </div>\n      </div>\n\n      <div className=\"w-full mr-32\">\n        <div className=\"w-full\">\n          <input\n            id=\"slider\"\n            className=\"w-1/2 rounded-md cursor-pointer \"\n            type=\"range\"\n            min=\"0\"\n            max={MAX_SLIDER_VALUE}\n            value={slider}\n            onChange={onSliderChange}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\n\nfunction DivPerson() {\n\n  return (\n    <svg fill=\"white\" viewBox={`0 0 ${100} ${100}`}\n      xmlns=\"http://www.w3.org/2000/svg\" className=\"inline-block h-6 \">\n      <g>\n        <circle\n          cx={45}\n          cy={27}\n          r={9}\n          className={`bg-blue-200`}\n        />\n        <ellipse\n          clipPath=\"polygon(50% 33%, 65% 0, 100% 0, 100% 99%, 0 100%, 0 0, 35% 0)\"\n          cx={45}\n          cy={50}\n          rx={17}\n          ry={13}\n          className={`bg-blue-200`}\n        />\n        <rect\n          width={23}\n          height={35}\n          x={33.5}\n          y={60}\n          clipPath=\"polygon(0 0, 100% 0, 75% 100%, 25% 100%)\"\n        />\n      </g>\n    </svg>\n  );\n}\n\n\nexport default ManyCauseVisual;\n","import usePageTitle from \"../../../hooks/usePageTitle\";\nimport { useEffect, useState } from \"react\";\nimport CompFadeStart from \"../CompFadeStart\";\nimport CompFadeConsent from \"../CompFadeConsent\";\nimport CompFadeThanks from \"../CompFadeThanks\";\nimport CompFadeInstructions from \"../CompFadeInstructions\";\nimport CompFadeTask3 from \"./CompFadeTask3\";\nimport ExplainQuestions from \"../ExplainQuestions\";\nimport { CompFadeStudyService } from \"../../../services/CompFadeStudy\";\nimport CompFadeAttentionQ from \"../CompFadeAttentionQ\";\nimport BadScreenWidth from \"../BadScreenWidth\";\nimport CompFadeSelect3 from \"./CompFadeSelect3\";\n\nenum CFStudyState {\n  Start = 0,\n  AskConsent = 1,\n  NoConsent = 2,\n  Instructions = 3,\n  Task = 4,\n  Selection = 5,\n  Questions = 6,\n  AttentionCheck = 7,\n  Complete = 8,\n  BadWidth = 9,\n}\n\nexport interface ICompFadeStudyCondition3 {\n  text: \"none\" | \"per-person\" | \"per-cause\"\n  vis: \"none\" | \"per-person\" | \"per-cause\";\n}\n\nexport interface ICompFadeStudyResults {\n  programBAlloc: number;\n  q1: string;\n  q2: string;\n  q3: string;\n}\n\nfunction CompFadeStudy3() {\n  usePageTitle(\"Compassion Fade Study: Experiment 3\");\n  const [studyState, setStudyState] = useState(CFStudyState.Instructions);\n  const [results, setResults] = useState<ICompFadeStudyResults>({\n    programBAlloc: -1,\n    q1: \"\",\n    q2: \"\",\n    q3: \"\",\n  });\n  const [condition, setCondition] = useState<ICompFadeStudyCondition3>();\n  const [isWide, setIsWide] = useState(true);\n  const [slider, setSlider] = useState(0);\n  const [taskTimer, setTaskTimer] = useState(0)\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth < 1032) {\n        setIsWide(false);\n      } else {\n        setIsWide(true);\n      }\n    };\n    window.addEventListener(\"resize\", handleResize);\n  }, []);\n\n  useEffect(() => {\n    setResults((r) => ({ ...r, programBAlloc: slider * 100 }));\n  }, [slider]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [studyState]);\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const cond = params.get(\"cond\");\n\n    switch (cond) {\n      case \"cn\": // no text, cause vis\n        setCondition({ text: \"per-cause\", vis: \"none\" });\n        break;\n      case \"pn\": // cause text, cause vis\n        setCondition({ text: \"per-person\", vis: \"none\" });\n        break;\n      case \"nc\":\n        setCondition({ text: \"none\", vis: \"per-cause\" });\n        break;\n      case \"cc\":\n        setCondition({ text: \"per-cause\", vis: \"per-cause\" });\n        break;\n      case \"pc\":\n        setCondition({ text: \"per-person\", vis: \"per-cause\" });\n        break;\n      case \"np\":\n        setCondition({ text: \"none\", vis: \"per-person\" });\n        break;\n      case \"cp\":\n        setCondition({ text: \"per-cause\", vis: \"per-person\" });\n        break;\n      case \"pp\":\n        setCondition({ text: \"per-person\", vis: \"per-person\" });\n        break;\n      default:\n        const condArr: ICompFadeStudyCondition3[] = [\n          { text: \"per-cause\", vis: \"none\" },\n          { text: \"per-person\", vis: \"none\" },\n          { text: \"none\", vis: \"per-cause\" },\n          { text: \"per-cause\", vis: \"per-cause\" },\n          { text: \"per-person\", vis: \"per-cause\" },\n          { text: \"none\", vis: \"per-person\" },\n          { text: \"per-cause\", vis: \"per-person\" },\n          { text: \"per-person\", vis: \"per-person\" },\n        ]\n        setCondition(condArr[Math.floor(Math.random() * condArr.length)]);\n    }\n\n    // if (process.env.NODE_ENV === \"development\") {\n    //   setStudyState(CFStudyState.Instructions)\n    // }\n    setStudyState(CFStudyState.Instructions)\n  }, []);\n\n  useEffect(() => {\n    if (!condition) {\n      return;\n    } else if (\n      !results ||\n      !results.q1 ||\n      !results.q2 ||\n      !results.q3 ||\n      results.programBAlloc === -1\n    ) {\n      return;\n    }\n    const params = new URLSearchParams(window.location.search);\n    const pid = params.get(\"PROLIFIC_PID\") || \"\";\n    const sessionId = params.get(\"SESSION_ID\") || \"\";\n    const studyId = params.get(\"STUDY_ID\") || \"\";\n\n    CompFadeStudyService.create({\n      prolificInfo: {\n        pid,\n        sessionId,\n        studyId,\n      },\n      results,\n      condition,\n    });\n  }, [results, condition]);\n\n  function cycleStudyStates(compFadeStudyState: CFStudyState) {\n    let state = null;\n    switch (compFadeStudyState) {\n      case CFStudyState.Start:\n        state = (\n          <CompFadeStart\n            nextState={() => setStudyState(CFStudyState.AskConsent)}\n          />\n        );\n        break;\n      case CFStudyState.AskConsent:\n        state = (\n          <CompFadeConsent\n            consentFunc={() => setStudyState(CFStudyState.Task)}\n            noConsentFunc={() => setStudyState(CFStudyState.NoConsent)}\n          />\n        );\n        break;\n      case CFStudyState.NoConsent:\n        state = <CompFadeThanks />;\n        break;\n      case CFStudyState.Instructions:\n        state = (\n          <CompFadeInstructions\n            nextState={() => setStudyState(CFStudyState.Task)}\n          />\n        );\n        break;\n      case CFStudyState.Task:\n        state = (\n          <CompFadeTask3\n            nextState={() => {\n              setStudyState(CFStudyState.Selection);\n              setTaskTimer(new Date().getTime())\n            }}\n          />\n        );\n        break;\n      case CFStudyState.Selection:\n        state =\n          condition === undefined ? (\n            <></>\n          ) : (\n            <CompFadeSelect3\n              condition={condition}\n              nextState={() => {\n                setStudyState(CFStudyState.Questions);\n                setResults(r => ({ ...r, timer:  new Date().getTime() - taskTimer }))\n              }}\n              slider={slider}\n              setSlider={setSlider}\n            />\n          );\n        break;\n      case CFStudyState.Questions:\n        state = (\n          <ExplainQuestions\n            setResults={setResults}\n            nextState={() => setStudyState(CFStudyState.AttentionCheck)}\n          />\n        );\n        break;\n      case CFStudyState.AttentionCheck:\n        state = (\n          <CompFadeAttentionQ\n            setResults={setResults}\n            nextState={() => setStudyState(CFStudyState.Complete)}\n          />\n        );\n        break;\n      case CFStudyState.Complete:\n        state = <CompFadeThanks />;\n        break;\n      default:\n        state = <CompFadeThanks />;\n    }\n    return state;\n  }\n\n  return (\n    <div>{isWide ? cycleStudyStates(studyState) : <BadScreenWidth />}</div>\n  );\n}\n\nexport default CompFadeStudy3;","import { useEffect } from \"react\";\nimport { ICompFadeStudyCondition3 } from \"./CompFadeStudy3\";\nimport StimHeader3 from \"./StimHeader3\";\n\ninterface ITextVisualProps {\n\tslider: number;\n\tsetSlider: React.Dispatch<React.SetStateAction<number>>;\n\ttextCond: ICompFadeStudyCondition3[\"text\"];\n\tprogramLabel: { A: string; B: string };\n\tprogramAllocation: number;\n\tprogramStimuli: { A: number; B: number };\n}\n\nexport function TextVisual3({\n\tslider,\n\tsetSlider,\n\ttextCond,\n\tprogramLabel,\n\tprogramAllocation,\n\tprogramStimuli,\n}: ITextVisualProps) {\n\tconst onSliderChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetSlider(parseInt(e.currentTarget.value));\n\t};\n\tconst MAX_SLIDER_VALUE = programAllocation;\n\tconst MAX_PEOPLE = programStimuli.B;\n\tconst MIN_PEOPLE = programStimuli.A;\n\n\tuseEffect(() => {\n\t\tsetSlider(Math.floor(MAX_SLIDER_VALUE / 2));\n\t}, [MAX_SLIDER_VALUE, setSlider]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex justify-center mb-8 space-x-4\">\n\t\t\t\t{\" \"}\n\t\t\t\t<div className=\"h-16 mb-6 w-96\">\n\t\t\t\t\t<StimHeader3\n\t\t\t\t\t\tprogram={programLabel.A}\n\t\t\t\t\t\tpopulation={MIN_PEOPLE}\n\t\t\t\t\t\tdonation={(MAX_SLIDER_VALUE - slider) * 100}\n\t\t\t\t\t\ttextCond={textCond}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"h-30 w-96\">\n\t\t\t\t\t<StimHeader3\n\t\t\t\t\t\tprogram={programLabel.B}\n\t\t\t\t\t\tpopulation={MAX_PEOPLE}\n\t\t\t\t\t\tdonation={slider * 100}\n\t\t\t\t\t\ttextCond={textCond}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"w-full \">\n\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"slider\"\n\t\t\t\t\t\tclassName=\"w-1/2 rounded-md cursor-pointer \"\n\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tmax={MAX_SLIDER_VALUE}\n\t\t\t\t\t\tvalue={slider}\n\t\t\t\t\t\tonChange={onSliderChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","import { useEffect } from \"react\";\nimport \"../slider.css\";\nimport { DivPerson } from \"./ManyVisual\";\nimport usePageTitle from \"../../../hooks/usePageTitle\";\nimport { ManyVisual } from \"./ManyVisual\";\nimport ManyCauseVisual from \"./ManyCauseVisual\";\nimport { ICompFadeStudyCondition3 } from \"./CompFadeStudy3\";\nimport { TextVisual3 } from \"./TextVisual3\";\n\ninterface ICompFadeSelectProps {\n\tcondition: ICompFadeStudyCondition3;\n\tnextState: () => void;\n\tslider: number;\n\tsetSlider: React.Dispatch<React.SetStateAction<number>>;\n}\n\nexport default function CompFadeSelect3(props: ICompFadeSelectProps) {\n\tconst { nextState, condition, slider, setSlider } = props;\n\n\tconst PROGRAM_LABEL = { A: \"Program Alpha\", B: \"Program Zefa\" };\n\tconst PRGORAM_STIMULI = { A: 3, B: 120 };\n\tconst PROGRAM_ALLOCATION = 246;\n\n\tconst submitResult = () => nextState();\n\tusePageTitle(\"Compassion Fade Study\");\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\twindow.scrollTo(0, 0);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-gray-600\">\n\t\t\t<div className=\"container py-6 mx-auto space-y-6 text-center \">\n\t\t\t\t<h2 className=\"text-4xl font-bold text-center text-gray-100\">\n\t\t\t\t\tYour Decision\n\t\t\t\t</h2>\n\t\t\t\t<p className=\"py-4 text-white bg-gray-800 rounded-lg\">\n\t\t\t\t\tYou have a total of $24 600 (US Dollars) to allocate between the two\n\t\t\t\t\tprograms, <br /> please use the scale to select how you\n\t\t\t\t\twould allocate these resources.\n\t\t\t\t</p>\n\t\t\t\t<div className=\"w-full h-1 my-4 bg-indigo-300 rounded-full \" />\n\t\t\t\t{condition.vis !== \"none\" && (\n\t\t\t\t\t<Legend />\n\t\t\t\t)}\n\t\t\t\t{condition.vis === \"none\" && <TextVisual3\n\t\t\t\t\tprogramLabel={PROGRAM_LABEL}\n\t\t\t\t\tprogramStimuli={PRGORAM_STIMULI}\n\t\t\t\t\tprogramAllocation={PROGRAM_ALLOCATION}\n\t\t\t\t\ttextCond={condition.text}\n\t\t\t\t\tslider={slider}\n\t\t\t\t\tsetSlider={setSlider}\n\t\t\t\t/>}\n\t\t\t\t{condition.vis === \"per-cause\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ManyCauseVisual\n\t\t\t\t\t\t\tprogramLabel={PROGRAM_LABEL}\n\t\t\t\t\t\t\tprogramStimuli={PRGORAM_STIMULI}\n\t\t\t\t\t\t\tprogramAllocation={PROGRAM_ALLOCATION}\n\t\t\t\t\t\t\ttextCond={condition.text}\n\t\t\t\t\t\t\tslider={slider}\n\t\t\t\t\t\t\tsetSlider={setSlider}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"w-full h-1 my-4 bg-indigo-300 rounded-full \" />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t{condition.vis === \"per-person\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ManyVisual\n\t\t\t\t\t\t\tprogramLabel={PROGRAM_LABEL}\n\t\t\t\t\t\t\tprogramStimuli={PRGORAM_STIMULI}\n\t\t\t\t\t\t\tprogramAllocation={PROGRAM_ALLOCATION}\n\t\t\t\t\t\t\ttextCond={condition.text}\n\t\t\t\t\t\t\tslider={slider}\n\t\t\t\t\t\t\tsetSlider={setSlider}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"w-full h-1 my-4 bg-indigo-300 rounded-full \" />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"flex justify-around my-6\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={submitResult}\n\t\t\t\t\t\tclassName=\"w-3/4 px-8 py-4 my-6 font-bold tracking-wider uppercase bg-indigo-300 rounded-lg shadow-lg hover:bg-indigo-200 \"\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit Choice\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction Legend() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col justify-between p-6 text-white bg-gray-800 rounded-lg\">\n\t\t\t\t<h3 className=\"mb-4 text-xl text-center underline\">Legend</h3>\n\t\t\t\t<div className=\"mx-auto space-y-4 text-md\">\n\t\t\t\t\t<div className=\"flex font-bold text-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"w-8 h-full\"\n\t\t\t\t\t\t\tviewBox={`0 0 ${100} ${100}`}\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<circle cx={40} cy={60} r={20} fill={\"rgb(234 179 8)\"} />\n\t\t\t\t\t\t</svg>\n\n\t\t\t\t\t\t<p className=\"pt-2 \">= $100 (US Dollars)</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex font-bold text-center \">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: \"rotate(180deg)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DivPerson />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"pt-2 ml-2\">= 1 Person</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>{\" \"}\n\t\t\t<div className=\"w-full h-1 my-4 bg-indigo-300 rounded-full \" />{\" \"}\n\t\t</>\n\t)\n}"],"sourceRoot":""}